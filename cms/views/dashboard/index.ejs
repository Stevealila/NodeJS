<%- include('../partials/dashboard/header') %>

<div class="container my-5">
    <% if(posts.length > 0) { %>
    <div class="table-responsive-md my-5">
            <table class="table table-dark table-hover">
                <thead>
              <tr>
                <th scope="col">Title</th>
                <th scope="col">Status</th>
                <th scope="col">Category</th>
                <th scope="col">Action</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody class="text-secondary">
                <% posts.forEach( post => { %>
                    <tr>
    
                      <th scope="row"><%= post.title %></th>
    
                      <td><%= post.status %></td>
    
                      <% if(post.category !== undefined) { %>
                        <td><%= post.category.title %></td>
                      <% } else { %>
                        <th></th>
                      <% } %>
    
                        <td>
                            <a class="btn btn-warning btn-sm me-3" href="/posts/<%= post._id %>">
                              <i class="bi bi-pen-fill"></i></a>
                        </td>
    
                        <td>
                          <form class="navbar-search form-inline" action="/posts/<%= post.id %>?_method=DELETE" method="post">
                              <button class="btn btn-danger btn-sm me-3">
                                <i class="bi bi-trash-fill"></i>
                              </button>
                          </form>
                        </td>
    
                    </tr>
                <% }) %>
            </tbody>
          </table>
    </div>
        <% } else { %>
            <p class="fw-bold fst-italic">You have not created a post</p>
            <p class="text-center my-5">
              <a class="_btn _btn-primary" href="/posts/create">
                Create
              </a>
          </p>
        <% } %>

</div></div></div>
